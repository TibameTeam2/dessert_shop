<!doctype html>
<html lang="zh-Hant">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>POS Dash | Responsive Bootstrap 4 Admin Dashboard Template</title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico" />
    <link rel="stylesheet" href="assets/css/backend-plugin.min.css">
    <link rel="stylesheet" href="assets/css/backend.css?v=1.0.0">
    <link rel="stylesheet" href="assets/vendor/@fortawesome/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="assets/vendor/line-awesome/dist/line-awesome/css/line-awesome.min.css">
    <link rel="stylesheet" href="assets/vendor/remixicon/fonts/remixicon.css">

    <style type="text/css">
        table th {
            text-align: center;
        }
        
        table td {
            text-align: center;
        }
    </style>
</head>

<body class="  ">
    <!-- loader Start -->
    <div id="loading">
        <div id="loading-center">
        </div>
    </div>
    <!-- loader END -->
    <!-- Wrapper Start -->
    <div class="wrapper">

        <!--Header-->
        <div class="header"></div>

        <div class="content-page">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="d-flex flex-wrap align-items-center justify-content-between mb-4">
                            <div>
                                <h4 class="mb-3">通知訊息</h4>
                                <!--                                 <p class="mb-0">Returns dashboard shows the graphical representation of the channel and Reference <br>wise returns with the comparison to the total units sold..</p> -->
                            </div>
                            <a href="page-add-return.html" class="btn btn-primary add-list"><i class="las la-plus mr-3"></i>Add Returns</a>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="table-responsive rounded mb-3">
                            <table class="data-table table mb-0 tbl-server-info">
                                <thead class="bg-white text-uppercase">
                                    <tr class="ligth ligth-data">
                                        <th>
                                            <div class="checkbox d-inline-block">
                                                <input type="checkbox" class="checkbox-input" id="checkbox1">
                                                <label for="checkbox1" class="mb-0"></label>
                                            </div>
                                        </th>
                                        <th>日期</th>
                                        <th>通知類型</th>
                                        <th>通知內容</th>
                                        <th>讀取狀態</th>
                                        <th>會員帳號</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <!-- Modal Edit -->
                                <div class="modal fade" id="edit-note" tabindex="-1" role="dialog" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                        <div class="modal-content">
                                            <div class="modal-body">
                                                <div class="popup text-left">
                                                    <div class="media align-items-top justify-content-between">
                                                        <h3 class="mb-3">Product</h3>
                                                        <div class="btn-cancel p-0" data-dismiss="modal"><i class="las la-times"></i></div>
                                                    </div>
                                                    <div class="content edit-notes">
                                                        <div class="card card-transparent card-block card-stretch event-note mb-0">
                                                            <div class="card-body px-0 bukmark">
                                                                <div class="d-flex align-items-center justify-content-between pb-2 mb-3 border-bottom">
                                                                    <div class="quill-tool">
                                                                    </div>
                                                                </div>
                                                                <div id="quill-toolbar1">
                                                                    <p>Virtual Digital Marketing Course every week on Monday, Wednesday and Saturday.Virtual Digital Marketing Course every week on Monday</p>
                                                                </div>
                                                            </div>
                                                            <div class="card-footer border-0">
                                                                <div class="d-flex flex-wrap align-items-ceter justify-content-end">
                                                                    <div class="btn btn-primary mr-3" data-dismiss="modal">Cancel</div>
                                                                    <div class="btn btn-outline-primary" data-dismiss="modal">Save</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                        </div>
                    </div>
                    <!-- Wrapper End-->


                    <!-- Backend Bundle JavaScript -->
                    <script src="assets/js/backend-bundle.min.js"></script>

                    <!-- Table Treeview JavaScript -->
                    <script src="assets/js/table-treeview.js"></script>

                    <!-- Chart Custom JavaScript -->
                    <script src="assets/js/customizer.js"></script>

                    <!-- Chart Custom JavaScript -->
                    <script async src="assets/js/chart-custom.js"></script>

                    <!-- app JavaScript -->
                    <script src="assets/js/app.js"></script>

                    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.js"></script>

                    <script>
                        $(document).ready(function() {
                            $('.header').load('header.html')
                                // $('.footer').load('footer.html')
                        })




                        $.post("/dessert_shop/notice/backend_getAllNotice", function(data) {
                            if (data.flag) {
                                let table = $(".data-table").DataTable();
                                table.destroy();
                                table = $(".data-table").DataTable({
                                    "autoWidth": false,
                                    "lengthMenu": [5, 10, 15, 20], //顯示XX像結果
                                    "language": {
                                        "processing": "處理中...",
                                        "loadingRecords": "載入中...",
                                        "lengthMenu": "顯示 _MENU_ 項結果",
                                        "zeroRecords": "沒有符合的結果",
                                        "info": "顯示第 _START_ 至 _END_ 項結果，共 _TOTAL_ 項",
                                        "infoEmpty": "顯示第 0 至 0 項結果，共 0 項",
                                        "infoFiltered": "(從 _MAX_ 項結果中過濾)",
                                        "infoPostFix": "",
                                        "search": "搜尋:",
                                        "paginate": {
                                            "first": "第一頁",
                                            "previous": "上一頁",
                                            "next": "下一頁",
                                            "last": "最後一頁"
                                        },
                                        "aria": {
                                            "sortAscending": ": 升冪排列",
                                            "sortDescending": ": 降冪排列"
                                        }
                                    },
                                    "columnDefs": [{
                                        targets: [2],
                                        render: function(data, type, row) {
                                            switch (data) {
                                                case 1:
                                                    return "購買成功";

                                                case 2:
                                                    return "取貨提醒";

                                                case 3:
                                                    return "訂位成功";

                                                case 4:
                                                    return "訂位提醒";
                                            }
                                        }
                                    }, {
                                        targets: [3],
                                        "className": "dt-body-left",
                                    }]
                                })
                                table.clear().draw();
                                for (let i = 0; i <
                                    data.data.length; i++) {
                                    table.row.add([
                                        checkBox,
                                        moment(data.data[i].notice_time).format('YYYY-MM-DD'),
                                        data.data[i].notice_type,
                                        data.data[i].notice_content,
                                        data.data[i].read_status == 0 ? "未讀" : "已讀",
                                        data.data[i].member_account,
                                        action
                                    ]).draw(false);
                                }
                            } else {}
                        });

                        /************************************* Function ********************************************/


                        function type() {
                            switch (data.data[i].notice_type) {
                                case 1:
                                    "購買成功";
                                    break;

                                case 2:
                                    "取貨提醒";
                                    break;

                                case 3:
                                    "訂位成功";
                                    break;

                                case 4:
                                    "訂位提醒";
                                    break;
                            }

                        }



                        function aaa() {

                            if (data.data[i].notice_type == 1) {
                                "購買成功"
                            } else if (data.data[i].notice_type == 2) {
                                "取貨提醒"
                            } else if (data.data[i].notice_type == 3) {
                                "訂位成功"
                            } else if (data.data[i].notice_type == 4) {
                                "訂位提醒"
                            }
                        }


                        let action = `
        <div class="d-flex align-items-center list-action">                                                
          <a class="badge badge-info mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="View" href="#"><i class="ri-eye-line mr-0"></i></a>                                          
          <a class="badge bg-success mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit" href="#"><i class="ri-pencil-line mr-0"></i></a>                                              
          <a class="badge bg-warning mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete" href="#"><i class="ri-delete-bin-line mr-0"></i></a>                                            
        </div>`

                        let checkBox = `
        <div class="checkbox d-inline-block">
          <input type="checkbox" class="checkbox-input" id="checkbox2">
          <label for="checkbox2" class="mb-0"></label>
        </div>`
                    </script>
</body>

</html>