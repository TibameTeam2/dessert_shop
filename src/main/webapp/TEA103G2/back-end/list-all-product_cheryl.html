<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>嗜甜 | 顛覆你想像的甜點</title>

  <!-- Favicon -->
  <link rel="shortcut icon" href="assets/images/favicon.ico"/>
  <link rel="stylesheet" href="assets/css/backend-plugin.min.css">
  <link rel="stylesheet" href="assets/css/backend.css?v=1.0.0">
  <link rel="stylesheet" href="assets/vendor/@fortawesome/fontawesome-free/css/all.min.css">
  <link rel="stylesheet" href="assets/vendor/line-awesome/dist/line-awesome/css/line-awesome.min.css">
  <link rel="stylesheet" href="assets/vendor/remixicon/fonts/remixicon.css">
</head>
<body class="  ">
<!-- loader Start -->
<div id="loading">
  <div id="loading-center">
  </div>
</div>
<!-- loader END -->
<!-- Wrapper Start -->
<div class="wrapper">


	<!--Header-->
  	<div class="header"></div>
	

    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <div class="popup text-left">
            <h4 class="mb-3">New Order</h4>
            <div class="content create-workform bg-body">
              <div class="pb-3">
                <label class="mb-2">Email</label>
                <input type="text" class="form-control" placeholder="Enter Name or Email">
              </div>
              <div class="col-lg-12 mt-4">
                <div class="d-flex flex-wrap align-items-ceter justify-content-center">
                  <div class="btn btn-primary mr-4" data-dismiss="modal">Cancel</div>
                  <div class="btn btn-outline-primary" data-dismiss="modal">Create</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  
  <div class="content-page">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <div class="d-flex flex-wrap flex-wrap align-items-center justify-content-between mb-4">
            <div>
              <h4 class="mb-3">Product List</h4>
              <p class="mb-0">The product list effectively dictates product presentation and provides space<br> to list
                your products and offering in the most appealing way.</p>
            </div>
            <a href="add-product.html" class="btn btn-primary add-list"><i class="las la-plus mr-3"></i>新增商品</a>
          </div>
        </div>
        <!-- Table的地方 --><!--  一個tr為一列 -->
        <div class="col-lg-12">
          <div class="table-responsive rounded mb-3">
            <table class="data-table table mb-0 tbl-server-info">
              <thead class="bg-white text-uppercase">
              <tr class="ligth ligth-data">
                <th>
                  <div class="checkbox d-inline-block">
                    <input type="checkbox" class="checkbox-input" id="checkbox1">
                    <label for="checkbox1" class="mb-0"></label>
                  </div>
                </th>
                <th>商品名稱</th>
                <th>商品編號</th>
                <th>子分類</th>
                <th>價格</th>
                <th>現貨數量</th>
                <th>狀態</th>
                <th>累計銷售量</th>
                <th>更新</th>
              </tr>
              </thead>
              <tbody class="ligth-body">
              <!-- 商品插入的位置 -->
              <!--                         <tr> -->
              <!--                             <td> -->
              <!--                                 <div class="checkbox d-inline-block"> -->
              <!--                                     <input type="checkbox" class="checkbox-input" id="checkbox2"> -->
              <!--                                     <label for="checkbox2" class="mb-0"></label> -->
              <!--                                 </div> -->
              <!--                             </td> -->
              <!--                             <td> -->
              <!--                                 <div class="d-flex align-items-center"> -->
              <!--                                     <img src="assets/images/table/product/01.jpg" class="img-fluid rounded avatar-50 mr-3" alt="image"> -->
              <!--                                     <div> -->
              <!--                                         Organic Cream -->
              <!--                                         <p class="mb-0"><small>This is test Product</small></p> -->
              <!--                                     </div> -->
              <!--                                 </div> -->
              <!--                             </td> -->
              <!--                             <td>CREM01</td> -->
              <!--                             <td>Beauty</td> -->
              <!--                             <td>$25.00</td> -->
              <!--                             <td>Lakme</td> -->
              <!--                             <td>$10.00</td> -->
              <!--                             <td>10.0</td> -->
              <!--                             <td> -->
              <!--                                 <div class="d-flex align-items-center list-action"> -->
              <!--                                     <a class="badge badge-info mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="View" -->
              <!--                                         href="#"><i class="ri-eye-line mr-0"></i></a> -->
              <!--                                     <a class="badge bg-success mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit" -->
              <!--                                         href="#"><i class="ri-pencil-line mr-0"></i></a> -->
              <!--                                     <a class="badge bg-warning mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete" -->
              <!--                                         href="#"><i class="ri-delete-bin-line mr-0"></i></a> -->
              <!--                                 </div> -->
              <!--                             </td> -->
              <!--                         </tr> -->
              <!--                         <tr> -->
              <!--                             <td> -->
              <!--                                 <div class="checkbox d-inline-block"> -->
              <!--                                     <input type="checkbox" class="checkbox-input" id="checkbox2"> -->
              <!--                                     <label for="checkbox2" class="mb-0"></label> -->
              <!--                                 </div> -->
              <!--                             </td> -->
              <!--                             <td> -->
              <!--                                 <div class="d-flex align-items-center"> -->
              <!--                                     <img src="assets/images/table/product/01.jpg" class="img-fluid rounded avatar-50 mr-3" alt="image"> -->
              <!--                                     <div> -->
              <!--                                         Organic Cream2蛋糕 -->
              <!--                                         <p class="mb-0"><small>This is test Product</small></p> -->
              <!--                                     </div> -->
              <!--                                 </div> -->
              <!--                             </td> -->
              <!--                             <td>CREM09</td> -->
              <!--                             <td>Beauty</td> -->
              <!--                             <td>$25.00</td> -->
              <!--                             <td>Lakme</td> -->
              <!--                             <td>$10.00</td> -->
              <!--                             <td>10.0</td> -->
              <!--                             <td> -->
              <!--                                 <div class="d-flex align-items-center list-action"> -->
              <!--                                     <a class="badge badge-info mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="View" -->
              <!--                                         href="#"><i class="ri-eye-line mr-0"></i></a> -->
              <!--                                     <a class="badge bg-success mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit" -->
              <!--                                         href="#"><i class="ri-pencil-line mr-0"></i></a> -->
              <!--                                     <a class="badge bg-warning mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete" -->
              <!--                                         href="#"><i class="ri-delete-bin-line mr-0"></i></a> -->
              <!--                                 </div> -->
              <!--                             </td> -->
              <!--                         </tr> -->
              <!-- 原始假資料結束 -->
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <!-- Page end  -->
    </div>
    <!-- Modal Edit -->
    <div class="modal fade" id="edit-note" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-body">
            <div class="popup text-left">
              <div class="media align-items-top justify-content-between">
                <h3 class="mb-3">Product</h3>
                <div class="btn-cancel p-0" data-dismiss="modal"><i class="las la-times"></i></div>
              </div>
              <div class="content edit-notes">
                <div class="card card-transparent card-block card-stretch event-note mb-0">
                  <div class="card-body px-0 bukmark">
                    <div class="d-flex align-items-center justify-content-between pb-2 mb-3 border-bottom">
                      <div class="quill-tool">
                      </div>
                    </div>
                    <div id="quill-toolbar1">
                      <p>Virtual Digital Marketing Course every week on Monday, Wednesday and Saturday.Virtual Digital
                        Marketing Course every week on Monday</p>
                    </div>
                  </div>
                  <div class="card-footer border-0">
                    <div class="d-flex flex-wrap align-items-ceter justify-content-end">
                      <div class="btn btn-primary mr-3" data-dismiss="modal">Cancel</div>
                      <div class="btn btn-outline-primary" data-dismiss="modal">Save</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Wrapper End-->

<!-- Backend Bundle JavaScript -->
<script src="assets/js/backend-bundle.min.js"></script>

<!-- Table Treeview JavaScript -->
<script src="assets/js/table-treeview.js"></script>

<!-- Chart Custom JavaScript -->
<script src="assets/js/customizer.js"></script>

<!-- Chart Custom JavaScript -->
<script async src="assets/js/chart-custom.js"></script>

<!-- app JavaScript -->
<script src="assets/js/app.js"></script>


<script>
    $(document).ready(function () {
        $('.header').load('header.html')
        // $('.footer').load('footer.html')
    })
</script>


<!-- 商品展示 -->
<script>
    $.get("/dessert_shop/product/getAllProduct", {}, function (data) {
        console.log(data.msg);
        productDisplay(data);
    });

    function productDisplay(data) {
        let url = location.href.split("/TEA103G2")[0];
        for (var i = 0; i < data.data.length; i++) {
            let product_name = data.data[i].product_name;
            let product_id = data.data[i].product_id;
            let product_type = data.data[i].product_type;
            let product_subtype = data.data[i].product_subtype;
            let product_price = data.data[i].product_price;
            let product_available_qty = data.data[i].product_available_qty;
            let product_status = data.data[i].product_status;
            if (product_status == 0) {
                product_status = "未上架";
                // 把該條背景變色

            } else if (product_status == 1) {
                product_status = "上架中";
            }
            let totoal_purchase = data.data[i].totoal_purchase;
            // 撈第一張照片
            let product_img1 = url + data.data[i].image_url[0];
            // 商品的插入標籤

            // 如果把第一個假資料刪除，會顯示table裡沒有商品，
            // 所有按鈕也會失效...排序時真商品會消失

            let product_item = `
                    <tr>
                		<td>
                    		<div class="checkbox d-inline-block">
                        		<input type="checkbox" class="checkbox-input" id="checkbox2">
                        		<label for="checkbox2" class="mb-0"></label>
                    		</div>
               			</td>
                		<td>
                    		<div class="d-flex align-items-center">
	                        	<img src="${product_img1}" class="img-fluid rounded avatar-50 mr-3" alt="image">
	                       		<div>
	                           		${product_name}
	                            	<p class="mb-0"><small>${product_type}</small></p>
	                        	</div>
                    		</div>
                		</td>
		                <td>${product_id}</td>
		                <td>${product_subtype}</td>
		                <td>$${product_price}</td>
		                <td>${product_available_qty}</td>
		                <td>${product_status}</td>
		                <td>${totoal_purchase}</td>
		                <td>
		                    <div class="d-flex align-items-center list-action">
		                        <a class="badge badge-info mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="View"
		                            href="#"><i class="ri-eye-line mr-0"></i></a>
		                        <a class="badge bg-success mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit"
		                            href="#"><i class="ri-pencil-line mr-0"></i></a>
		                        <a class="badge bg-warning mr-2" data-toggle="tooltip" data-placement="top" title="" data-original-title="Delete"
		                            href="#"><i class="ri-delete-bin-line mr-0"></i></a>
		                    </div>
                		</td>
           		 	</tr>`


            $(".ligth-body").append(product_item);

            // 試試第一筆以取代的方式填入，其他用插入的方式 ，取代的會被當作表格資料，其他不會
            // 但被取代的欄位，其原本排序與搜尋功能也會失效
//            	$("tr:first-child").find("img:first-child").attr("src","assets/images/table/product/02.jpg"); 	
//            	$("tr:first-child").find("div[class='d-flex align-items-center']").find("div").html(product_name); 	
// 				$(".ligth-body").append(product_item);
           		 
           		// 使用DataTable!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
           		 	
			}
			
		}
    
    
    
    </script>
    
    
  </body>
</html>